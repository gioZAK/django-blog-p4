<!-- Extends the base template -->
{% extends 'base.html' %}

{% block content %}

<!-- Container for the profile page content -->
<div class="container mt-4 text-center">
    <div class="row">
        <!-- Column for the profile content -->
        <div class="col-md-8 offset-md-2 mt-1">
            <!-- Heading with the username -->
            <h1>{{ user.username }}'s profile</h1>
            <hr>
            <!-- Display the date when the user joined -->
            <p>Joined on: {{ user.date_joined|date:"F j, Y" }}</p>
            <!-- Display the last time the user entered the website -->
            <p>Last login: {{ user.last_login|date:"F j, Y, g:i a" }}</p>
            <hr>
            <!-- Container for the posts -->
            <div class="container my-5">
                <!-- Heading for the posts -->
                <h2 class="mt-5">Posts:</h2>
                <!-- Conditional block to check if the user has any posts -->
                {% if posts %}
                <!-- List group for the posts -->
                <div class="list-group">
                    <!-- Iteration over the posts -->
                    {% for post in posts %}
                    <!-- List group item for each post -->
                    <a href="{% url 'post_detail' slug=post.slug %}"
                        class="list-group-item list-group-item-action text-truncate">{{ post.title }}</a>
                    {% endfor %}
                </div>
                {% else %}
                <!-- Message if the user doesn't have any posts -->
                <h3>This user doesn't have any posts yet</h3>
                {% endif %}
            </div>
        </div>
    </div>
    <!-- These buttons are only displayed to the owner of the page, edit profile, change password and delete-->
    {% if is_owner %}
    <div>
        <div class="pt-3 form-group text-center">
            <a href="{% url 'edit' username=user.username %}" class="btn btn-primary">Edit Profile</a>
        </div>
        <div class="pt-3 form-group text-center">
            <a class="btn btn-primary" href="{% url 'account_change_password'  %}">Change Password</a>
        </div>
        <div class="pt-3 form-group text-center">
            <a href="{% url 'delete_account' %}" class="btn btn-danger ">Delete Account</a>
        </div>
    </div>
    {% endif %}
</div>

{% endblock %}